# 算法对齐检查清单（chan.py）

用于每次算法改动后的快速核对。

## A. 笔（Bi）

- 同类分型是否先归一化（顶取更高，底取更低）
- 相邻笔是否共享连接分型（无断点）
- 方向是否由起点分型稳定决定

## B. 线段（Segment）

- 是否存在明显“两个线段中间断连”
- 同向延伸是否能更新到新高/新低
- 反向确认是否有最小跨度约束
- 最后一段是否标记为未确认（若实现该机制）

## C. 中枢（Zhongshu）

- 是否仅在有效重叠（`high > low`）下生成
- 延伸时是否正确更新起止范围
- 不重叠时是否结束旧中枢并寻找新中枢

## D. 与 UI 的一致性

- 结构数量变化是否与用户体感一致（避免“突然只剩一段”）
- 中枢矩形范围是否与算法 `high/low` 一致
- 拖拽缩放后是否仍与蜡烛对齐

